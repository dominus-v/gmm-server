"use strict";angular.module("ark-components",["ngCookies","ngResource","ngSanitize","ngRoute"]),angular.module("ark-components").factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!==a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("ark-components").constant("arkDatepickerConfig",{formatDay:"d",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"E",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!1,startingDay:0,yearRange:20,minDate:null,maxDate:null}),angular.module("ark-components").controller("arkDatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","arkDatepickerConfig",function(a,b,c,d,e,f,g){var h=this,i={$setViewValue:angular.noop};angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(c,e){h[c]=angular.isDefined(b[c])?8>e?d(b[c])(a.$parent):a.$parent.$eval(b[c]):g[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){h[d]=a?new Date(a):null,h.refreshView()}):h[d]=g[d]?new Date(g[d]):null}),a.datepickerMode=a.datepickerMode||g.datepickerMode,this.currentCalendarDate=angular.isDefined(b.initDate)?a.$parent.$eval(b.initDate):new Date,this.init=function(a){i=a,i.$render=function(){h.render()}},this.render=function(){if(i.$modelValue){var a=new Date(i.$modelValue),b=!isNaN(a);b?this.currentCalendarDate=a:e.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),i.$setValidity("date",b)}this.refreshView()},this.refreshView=function(){if(this.mode){this._refreshView();var a=i.$modelValue?new Date(i.$modelValue):null;i.$setValidity("date-disabled",!a||this.mode&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=i.$modelValue?new Date(i.$modelValue):null;return{date:a,label:f(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date)}},this.isDisabled=function(b){return this.minDate&&this.compare(b,this.minDate)<0||this.maxDate&&this.compare(b,this.maxDate)>0||a.dateDisabled&&a.dateDisabled({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===h.minMode){var c=i.$modelValue?new Date(i.$modelValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),i.$setViewValue(c),i.$render()}else h.currentCalendarDate=b,a.datepickerMode=h.mode.previous},a.move=function(a){var b=h.currentCalendarDate.getFullYear()+a*(h.mode.step.years||0),c=h.currentCalendarDate.getMonth()+a*(h.mode.step.months||0);h.currentCalendarDate.setFullYear(b,c,1),h.refreshView()},a.toggleMode=function(){a.datepickerMode=a.datepickerMode===h.maxMode?h.minMode:h.mode.next}}]),angular.module("ark-components").directive("arkDaypicker",["dateFilter","$templateCache",function(a,b){return{restrict:"EA",replace:!0,template:b.get("ark-datepicker/day.html"),require:"^arkDatepicker",link:function(b,c,d,e){function f(a,b){return new Date(a,b,0).getDate()}function g(a,b){var c=new Array(b),d=new Date(a),e=0;for(d.setHours(12);b>e;)c[e++]=new Date(d),d.setDate(d.getDate()+1);return c}function h(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}b.showWeeks=e.showWeeks,e.mode={step:{months:1},next:"month"},e._refreshView=function(){var c=e.currentCalendarDate.getFullYear(),d=e.currentCalendarDate.getMonth(),i=new Date(c,d,1),j=e.startingDay-i.getDay(),k=j>0?7-j:-j,l=new Date(i),m=0;k>0&&(l.setDate(-k+1),m+=k),m+=f(c,d+1),m+=(7-m%7)%7;for(var n=g(l,m),o=0;m>o;o++)n[o]=angular.extend(e.createDateObject(n[o],e.formatDay),{secondary:n[o].getMonth()!==d});b.labels=new Array(7);for(var p=0;7>p;p++)b.labels[p]="E"===e.formatDayHeader?a(n[p].date,"EEE").substr(0,1):a(n[p].date,e.formatDayHeader);if(b.title=a(e.currentCalendarDate,e.formatDayTitle),b.rows=e.split(n,7),b.showWeeks){b.weekNumbers=[];for(var q=h(b.rows[0][0].date),r=b.rows.length;b.weekNumbers.push(q++)<r;);}},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},e.refreshView()}}}]),angular.module("ark-components").directive("arkMonthpicker",["dateFilter","$templateCache",function(a,b){return{restrict:"EA",replace:!0,template:b.get("ark-datepicker/month.html"),require:"^arkDatepicker",link:function(b,c,d,e){e.mode={step:{years:1},previous:"day",next:"year"},e._refreshView=function(){for(var c=new Array(12),d=e.currentCalendarDate.getFullYear(),f=0;12>f;f++)c[f]=e.createDateObject(new Date(d,f,1),e.formatMonth);b.title=a(e.currentCalendarDate,e.formatMonthTitle),b.rows=e.split(c,3)},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},e.refreshView()}}}]),angular.module("ark-components").directive("arkYearpicker",["dateFilter","$templateCache",function(a,b){return{restrict:"EA",replace:!0,template:b.get("ark-datepicker/year.html"),require:"^arkDatepicker",link:function(a,b,c,d){d.mode={step:{years:d.yearRange},previous:"month"},d._refreshView=function(){for(var b=this.mode.step.years,c=new Array(b),e=parseInt((d.currentCalendarDate.getFullYear()-1)/b,10)*b+1,f=0;b>f;f++)c[f]=d.createDateObject(new Date(e+f,0,1),d.formatYear);a.title=[c[0].label,c[b-1].label].join(" - "),a.rows=d.split(c,5)},d.compare=function(a,b){return a.getFullYear()-b.getFullYear()},d.refreshView()}}}]),angular.module("ark-components").directive("arkDatepicker",["$templateCache",function(a){return{restrict:"EA",replace:!0,template:a.get("ark-datepicker/ark-datepicker.html"),scope:{datepickerMode:"=?",dateDisabled:"&"},require:["arkDatepicker","?^ngModel"],controller:"arkDatepickerController",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}]),angular.module("ark-components").constant("arkDatepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!1}),angular.module("ark-components").directive("arkDatepickerPopup",["$compile","$parse","$document","$position","dateFilter","arkDatepickerPopupConfig",function(a,b,c,d,e,f){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(g,h,i,j){function k(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function l(a){if(a){if(angular.isDate(a)&&!isNaN(a))return j.$setValidity("date",!0),a;if(angular.isString(a)){var b=new Date(a);return isNaN(b)?void j.$setValidity("date",!1):(j.$setValidity("date",!0),b)}return void j.$setValidity("date",!1)}return j.$setValidity("date",!0),null}var m,n=angular.isDefined(i.closeOnDateSelection)?g.$parent.$eval(i.closeOnDateSelection):f.closeOnDateSelection,o=angular.isDefined(i.datepickerAppendToBody)?g.$parent.$eval(i.datepickerAppendToBody):f.appendToBody;g.showButtonBar=angular.isDefined(i.showButtonBar)?g.$parent.$eval(i.showButtonBar):f.showButtonBar,g.getText=function(a){return g[a+"Text"]||f[a+"Text"]},i.$observe("arkDatepickerPopup",function(a){m=a||f.datepickerPopup,j.$render()});var p=angular.element("<div ark-datepicker-popup-wrap><div ark-datepicker></div></div>");p.attr({"ng-model":"date","ng-change":"dateSelection()"});var q=angular.element(p.children()[0]);i.datepickerOptions&&angular.forEach(g.$parent.$eval(i.datepickerOptions),function(a,b){q.attr(k(b),a)}),angular.forEach(["minDate","maxDate"],function(a){i[a]&&(g.$parent.$watch(b(i[a]),function(b){g[a]=b}),q.attr(k(a),a))}),i.dateDisabled&&q.attr("date-disabled",i.dateDisabled),j.$parsers.unshift(l),g.dateSelection=function(a){angular.isDefined(a)&&(g.date=a),j.$setViewValue(g.date),j.$render(),n&&(g.isOpen=!1)},h.bind("input change keyup",function(){g.$apply(function(){g.date=j.$modelValue})}),j.$render=function(){var a=j.$viewValue?e(j.$viewValue,m):"";h.val(a),g.date=l(j.$modelValue)};var r=function(a){g.isOpen&&a.target!==h[0]&&g.$apply(function(){g.isOpen=!1})},s=function(){g.$apply(function(){g.isOpen=!0})};g.$watch("isOpen",function(a){a?(g.position=o?d.offset(h):d.position(h),g.position.top=g.position.top+h.prop("offsetHeight"),c.bind("click",r),h.unbind("focus",s),h[0].focus()):(c.unbind("click",r),h.bind("focus",s))}),g.select=function(a){if("today"===a){var b=new Date;angular.isDate(j.$modelValue)?(a=new Date(j.$modelValue),a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate())):a=new Date(b.setHours(0,0,0,0))}g.dateSelection(a)};var t=a(p)(g);o?c.find("body").append(t):h.after(t),g.$on("$destroy",function(){t.remove(),h.unbind("focus",s),c.unbind("click",r)})}}}]),angular.module("ark-components").directive("arkDatepickerPopupWrap",["$templateCache",function(a){return{restrict:"EA",replace:!0,transclude:!0,template:a.get("ark-datepicker/popup.html"),link:function(a,b){b.bind("click",function(a){a.preventDefault(),a.stopPropagation()})}}}]),angular.module("ark-components").controller("navigationBarCtrl",["navigationBarService","$scope","$timeout",function(a,b,c){b.sDefaultI18n="en-US",b.updateNavigation=function(){var c=a.getNavigationJSON();c&&(b.navigationJSON=c,b.i18n=b.navigationJSON.i18n[a.getI18n()]?b.navigationJSON.i18n[a.getI18n()]:b.navigationJSON.i18n[b.sDefaultI18n])},b.matchRoute=function(b){return a.matchRoute?a.matchRoute(b):{module:!1,subModule:!1}},a.onJSONUpdate(function(){c(function(){b.updateNavigation()})}),b.updateNavigation()}]),angular.module("ark-components").directive("arkNavbar",["$templateCache",function(a){return{template:a.get("ark-navbar/ark-navbar-view.html"),restrict:"E",transclude:!1,replace:!0,link:function(){}}}]),function(a){function b(){a(c).parent().removeClass("open")}var c='[data-toggle="dropdown"]',d=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.hasClass("dropdown-nested")||c.parent().removeClass("open")})};d.prototype={constructor:d,toggle:function(){var c,d,e,f=a(this);if(!f.is(".disabled, :disabled")){d=f.attr("data-target"),d||(d=f.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),c=a(d),c.length||(c=f.parent()),e=c.hasClass("open");var g=f.hasClass("dropdown-nested");return!e&&g?c.addClass("nesting"):b(),e||($(".dropdown.open.nesting").removeClass("open nesting"),c.toggleClass("open")),!1}}},a.fn.dropdown=function(b){return this.each(function(){var c=a(this),e=c.data("dropdown");e||c.data("dropdown",e=new d(this)),"string"==typeof b&&e[b].call(c)})},a.fn.dropdown.Constructor=d,a(function(){a("html").on("click.dropdown.data-api",b),a("body").on("click.dropdown",".dropdown form",function(a){a.stopPropagation()}).on("click.dropdown.data-api",c,d.prototype.toggle)})}(window.jQuery),angular.module("ark-components").directive("arkWidgetCalculator",["$templateCache",function(a){return{replace:!0,restrict:"E",priority:1,template:a.get("ark-widget-calculator/ark-widget-calculator-view.html"),link:function(){}}}]),angular.module("ark-components").directive("arkWidgetLayout",["$templateCache",function(a){return{replace:!0,restrict:"E",transclude:!0,priority:0,template:a.get("ark-widget-layout/ark-widget-layout-view.html"),link:function(a,b){function c(a,b,c){var d="";b.$helper.hasClass("gs-resize-handle-x")?d="resizing-x":b.$helper.hasClass("gs-resize-handle-y")?d="resizing-y":b.$helper.hasClass("gs-resize-handle-both")&&(d="resizing-both"),c.addClass(d),e.trigger("removePopOvers")}function d(a,b,c){c.removeClass("resizing-both resizing-y resizing-x")}var e={bind:function(a,b){$(this).bind(a,b)},unbind:function(a,b){$(this).unbind(a,b)},trigger:function(a){$(this).trigger(a,Array.prototype.slice.call(arguments,1))}},f={widget_base_dimensions:[243,200],widget_margins:[0,0],max_cols:10,min_cols:1,resize:{enabled:!0,start:c,stop:d},draggable:{handle:".js-controlGrab",start:function(){e.trigger("removePopOvers")}}};b.addClass("ark-widget-layout"),a.gridster=b.find(">ul").gridster(f).data("gridster")}}}]),function(a){function b(b){return b[0]&&a.isPlainObject(b[0])?this.data=b[0]:this.el=b,this.isCoords=!0,this.coords={},this.init(),this}var c=b.prototype;c.init=function(){this.set(),this.original_coords=this.get()},c.set=function(a,b){var c=this.el;if(c&&!a&&(this.data=c.offset(),this.data.width=c.width(),this.data.height=c.height()),c&&a&&!b){var d=c.offset();this.data.top=d.top,this.data.left=d.left}var e=this.data;return void 0===e.left&&(e.left=e.x1),void 0===e.top&&(e.top=e.y1),this.coords.x1=e.left,this.coords.y1=e.top,this.coords.x2=e.left+e.width,this.coords.y2=e.top+e.height,this.coords.cx=e.left+e.width/2,this.coords.cy=e.top+e.height/2,this.coords.width=e.width,this.coords.height=e.height,this.coords.el=c||!1,this},c.update=function(b){if(!b&&!this.el)return this;if(b){var c=a.extend({},this.data,b);return this.data=c,this.set(!0,!0)}return this.set(!0),this},c.get=function(){return this.coords},c.destroy=function(){this.el.removeData("coords"),delete this.el},a.fn.coords=function(){if(this.data("coords"))return this.data("coords");var a=new b(this,arguments[0]);return this.data("coords",a),a}}(jQuery,window,document),function(a,b,c){function d(b,c,d){this.options=a.extend(e,d),this.$element=b,this.last_colliders=[],this.last_colliders_coords=[],this.set_colliders(c),this.init()}var e={colliders_context:c.body,overlapping_region:"C"},f=d.prototype;f.init=function(){this.find_collisions()},f.overlaps=function(a,b){var c=!1,d=!1;return(b.x1>=a.x1&&b.x1<=a.x2||b.x2>=a.x1&&b.x2<=a.x2||a.x1>=b.x1&&a.x2<=b.x2)&&(c=!0),(b.y1>=a.y1&&b.y1<=a.y2||b.y2>=a.y1&&b.y2<=a.y2||a.y1>=b.y1&&a.y2<=b.y2)&&(d=!0),c&&d},f.detect_overlapping_region=function(a,b){var c="",d="";return a.y1>b.cy&&a.y1<b.y2&&(c="N"),a.y2>b.y1&&a.y2<b.cy&&(c="S"),a.x1>b.cx&&a.x1<b.x2&&(d="W"),a.x2>b.x1&&a.x2<b.cx&&(d="E"),c+d||"C"},f.calculate_overlapped_area_coords=function(b,c){var d=Math.max(b.x1,c.x1),e=Math.max(b.y1,c.y1),f=Math.min(b.x2,c.x2),g=Math.min(b.y2,c.y2);return a({left:d,top:e,width:f-d,height:g-e}).coords().get()},f.calculate_overlapped_area=function(a){return a.width*a.height},f.manage_colliders_start_stop=function(b,c,d){for(var e=this.last_colliders_coords,f=0,g=e.length;g>f;f++)-1===a.inArray(e[f],b)&&c.call(this,e[f]);for(var h=0,i=b.length;i>h;h++)-1===a.inArray(b[h],e)&&d.call(this,b[h])},f.find_collisions=function(b){for(var c=this,d=this.options.overlapping_region,e=[],f=[],g=this.colliders||this.$colliders,h=g.length,i=c.$element.coords().update(b||!1).get();h--;){var j=c.$colliders?a(g[h]):g[h],k=j.isCoords?j:j.coords(),l=k.get(),m=c.overlaps(i,l);if(m){var n=c.detect_overlapping_region(i,l);if(n===d||"all"===d){var o=c.calculate_overlapped_area_coords(i,l),p=c.calculate_overlapped_area(o),q={area:p,area_coords:o,region:n,coords:l,player_coords:i,el:j};c.options.on_overlap&&c.options.on_overlap.call(this,q),e.push(k),f.push(q)}}}return(c.options.on_overlap_stop||c.options.on_overlap_start)&&this.manage_colliders_start_stop(e,c.options.on_overlap_start,c.options.on_overlap_stop),this.last_colliders_coords=e,f},f.get_closest_colliders=function(a){var b=this.find_collisions(a);return b.sort(function(a,b){return"C"===a.region&&"C"===b.region?a.coords.y1<b.coords.y1||a.coords.x1<b.coords.x1?-1:1:a.area<b.area?1:1}),b},f.set_colliders=function(b){"string"==typeof b||b instanceof a?this.$colliders=a(b,this.options.colliders_context).not(this.$element):this.colliders=a(b)},a.fn.collision=function(a,b){return new d(this,a,b)}}(jQuery,window,document),function(a){a.delay=function(a,b){var c=Array.prototype.slice.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},a.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)};c&&!d&&a.apply(e,f),clearTimeout(d),d=setTimeout(g,b)}},a.throttle=function(a,b){var c,d,e,f,g,h,i=debounce(function(){g=f=!1},b);return function(){c=this,d=arguments;var j=function(){e=null,g&&a.apply(c,d),i()};return e||(e=setTimeout(j,b)),f?g=!0:h=a.apply(c,d),i(),f=!0,h}}}(window),function(a,b,c){function d(b,d){this.options=a.extend({},e,d),this.$body=a(c.body),this.$container=a(b),this.$dragitems=a(this.options.items,this.$container),this.is_dragging=!1,this.player_min_left=0+this.options.offset_left,this.init()}var e={items:"li",distance:1,limit:!0,offset_left:0,autoscroll:!0,ignore_dragging:["INPUT","TEXTAREA","SELECT","BUTTON"],handle:null,container_width:0,move_element:!0,helper:!1,remove_helper:!0},f=a(b),g={x:"left",y:"top"},h=!!("ontouchstart"in b),i={start:h?"touchstart.gridster-draggable":"mousedown.gridster-draggable",move:h?"touchmove.gridster-draggable":"mousemove.gridster-draggable",end:h?"touchend.gridster-draggable":"mouseup.gridster-draggable"},j=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},k=d.prototype;k.init=function(){var c=this.$container.css("position");this.calculate_dimensions(),this.$container.css("position","static"===c?"relative":c),this.disabled=!1,this.events(),a(b).bind("resize.gridster-draggable",throttle(a.proxy(this.calculate_dimensions,this),200))},k.events=function(){this.$container.on("selectstart.gridster-draggable",a.proxy(this.on_select_start,this)),this.$container.on(i.start,this.options.items,a.proxy(this.drag_handler,this)),this.$body.on(i.end,a.proxy(function(a){this.is_dragging=!1,this.disabled||(this.$body.off(i.move),this.drag_start&&this.on_dragstop(a))},this))},k.get_actual_pos=function(a){var b=a.position();return b},k.get_mouse_pos=function(a){if(h){var b=a.originalEvent;a=b.touches.length?b.touches[0]:b.changedTouches[0]}return{left:a.clientX,top:a.clientY}},k.get_offset=function(a){a.preventDefault();var b=this.get_mouse_pos(a),c=Math.round(b.left-this.mouse_init_pos.left),d=Math.round(b.top-this.mouse_init_pos.top),e=Math.round(this.el_init_offset.left+c-this.baseX+this.scroll_offset_x),f=Math.round(this.el_init_offset.top+d-this.baseY+this.scroll_offset_y);return this.options.limit&&(e>this.player_max_left?e=this.player_max_left:this.player_min_left>e&&(e=this.player_min_left)),{position:{left:e,top:f},pointer:{left:b.left,top:b.top,diff_left:c+this.scroll_offset_x,diff_top:d+this.scroll_offset_y}}},k.get_drag_data=function(a){var b=this.get_offset(a);return b.$player=this.$player,b.$helper=this.helper?this.$helper:this.$player,b},k.set_limits=function(a){return a||(a=this.$container.width()),this.player_max_left=a-this.player_width+-this.options.offset_left,this.options.container_width=a,this},k.scroll_in=function(b,d){var e,h=g[b],i=50,k=30,l="x"===b,m=l?this.window_width:this.window_height,n=l?a(c).width():a(c).height(),o=l?this.$player.width():this.$player.height(),p=f["scroll"+j(h)](),q=p,r=q+m,s=r-i,t=q+i,u=q+d.pointer[h],v=n-m+o;return u>=s&&(e=p+k,v>e&&(f["scroll"+j(h)](e),this["scroll_offset_"+b]+=k)),t>=u&&(e=p-k,e>0&&(f["scroll"+j(h)](e),this["scroll_offset_"+b]-=k)),this},k.manage_scroll=function(a){this.scroll_in("x",a),this.scroll_in("y",a)},k.calculate_dimensions=function(){this.window_height=f.height(),this.window_width=f.width()},k.drag_handler=function(b){if(b.target.nodeName,!this.disabled&&(1===b.which||h)&&!this.ignore_drag(b)){var c=this,d=!0;return this.$player=a(b.currentTarget),this.el_init_pos=this.get_actual_pos(this.$player),this.mouse_init_pos=this.get_mouse_pos(b),this.offsetY=this.mouse_init_pos.top-this.el_init_pos.top,this.$body.on(i.move,function(a){var b=c.get_mouse_pos(a),e=Math.abs(b.left-c.mouse_init_pos.left),f=Math.abs(b.top-c.mouse_init_pos.top);return e>c.options.distance||f>c.options.distance?d?(d=!1,c.on_dragstart.call(c,a),!1):(c.is_dragging===!0&&c.on_dragmove.call(c,a),!1):!1}),h?void 0:!1}},k.on_dragstart=function(a){if(a.preventDefault(),this.is_dragging)return this;this.drag_start=this.is_dragging=!0;var b=this.$container.offset();return this.baseX=Math.round(b.left),this.baseY=Math.round(b.top),this.initial_container_width=this.options.container_width||this.$container.width(),"clone"===this.options.helper?(this.$helper=this.$player.clone().appendTo(this.$container).addClass("helper"),this.helper=!0):this.helper=!1,this.scroll_offset_y=0,this.scroll_offset_x=0,this.el_init_offset=this.$player.offset(),this.player_width=this.$player.width(),this.player_height=this.$player.height(),this.set_limits(this.options.container_width),this.options.start&&this.options.start.call(this.$player,a,this.get_drag_data(a)),!1},k.on_dragmove=function(a){var b=this.get_drag_data(a);this.options.autoscroll&&this.manage_scroll(b),this.options.move_element&&(this.helper?this.$helper:this.$player).css({position:"absolute",left:b.position.left,top:b.position.top});var c=this.last_position||b.position;return b.prev_position=c,this.options.drag&&this.options.drag.call(this.$player,a,b),this.last_position=b.position,!1},k.on_dragstop=function(a){var b=this.get_drag_data(a);return this.drag_start=!1,this.options.stop&&this.options.stop.call(this.$player,a,b),this.helper&&this.options.remove_helper&&this.$helper.remove(),!1},k.on_select_start=function(a){return this.disabled||this.ignore_drag(a)?void 0:!1},k.enable=function(){this.disabled=!1},k.disable=function(){this.disabled=!0},k.destroy=function(){this.disable(),this.$container.off(".gridster-draggable"),this.$body.off(".gridster-draggable"),a(b).off(".gridster-draggable"),a.removeData(this.$container,"drag")},k.ignore_drag=function(b){return this.options.handle?!a(b.target).is(this.options.handle):a.isFunction(this.options.ignore_dragging)?this.options.ignore_dragging(b):a(b.target).is(this.options.ignore_dragging.join(", "))},a.fn.drag=function(a){return new d(this,a)}}(jQuery,window,document),function(a,b,c){function d(b,c){this.options=a.extend(!0,{},e,c),this.$el=a(b),this.$wrapper=this.$el.parent(),this.$widgets=this.$el.children(this.options.widget_selector).addClass("gs-w"),this.widgets=[],this.$changed=a([]),this.wrapper_width=this.$wrapper.width(),this.min_widget_width=2*this.options.widget_margins[0]+this.options.widget_base_dimensions[0],this.min_widget_height=2*this.options.widget_margins[1]+this.options.widget_base_dimensions[1],this.generated_stylesheets=[],this.$style_tags=a([]),this.init()}var e={namespace:"",widget_selector:"li",widget_margins:[10,10],widget_base_dimensions:[400,225],extra_rows:0,extra_cols:0,min_cols:1,max_cols:1/0,min_rows:15,max_size_x:!1,autogrow_cols:!1,autogenerate_stylesheet:!0,avoid_overlapped_widgets:!0,serialize_params:function(a,b){return{col:b.col,row:b.row,size_x:b.size_x,size_y:b.size_y}},collision:{},draggable:{items:".gs-w",distance:4},resize:{enabled:!1,axes:["both"],handle_append_to:"",handle_class:"gs-resize-handle",max_size:[1/0,1/0],min_size:[1,1]}};d.generated_stylesheets=[];var f=d.prototype;f.init=function(){this.options.resize.enabled&&this.setup_resize(),this.generate_grid_and_stylesheet(),this.get_widgets_from_DOM(),this.set_dom_grid_height(),this.set_dom_grid_width(),this.$wrapper.addClass("ready"),this.draggable(),this.options.resize.enabled&&this.resizable(),a(b).bind("resize.gridster",throttle(a.proxy(this.recalculate_faux_grid,this),200))},f.disable=function(){return this.$wrapper.find(".player-revert").removeClass("player-revert"),this.drag_api.disable(),this},f.enable=function(){return this.drag_api.enable(),this},f.disable_resize=function(){return this.$el.addClass("gs-resize-disabled"),this.resize_api.disable(),this},f.enable_resize=function(){return this.$el.removeClass("gs-resize-disabled"),this.resize_api.enable(),this},f.add_widget=function(b,c,d,e,f,g,h){var i;c||(c=1),d||(d=1),!e&!f?i=this.next_position(c,d):(i={col:e,row:f},this.empty_cells(e,f,c,d));var j=a(b).attr({"data-col":i.col,"data-row":i.row,"data-sizex":c,"data-sizey":d}).addClass("gs-w").appendTo(this.$el).hide();return this.$widgets=this.$widgets.add(j),this.register_widget(j),this.add_faux_rows(i.size_y),g&&this.set_widget_max_size(j,g),h&&this.set_widget_min_size(j,h),this.set_dom_grid_width(),this.set_dom_grid_height(),this.drag_api.set_limits(this.cols*this.min_widget_width),j.fadeIn()},f.set_widget_min_size=function(a,b){if(a="number"==typeof a?this.$widgets.eq(a):a,!a.length)return this;var c=a.data("coords").grid;return c.min_size_x=b[0],c.min_size_y=b[1],this},f.set_widget_max_size=function(a,b){if(a="number"==typeof a?this.$widgets.eq(a):a,!a.length)return this;var c=a.data("coords").grid;return c.max_size_x=b[0],c.max_size_y=b[1],this},f.add_resize_handle=function(b){var c=this.options.resize.handle_append_to;return a(this.resize_handle_tpl).appendTo(c?a(c,b):b),this},f.resize_widget=function(a,b,c,d){var e=a.coords().grid,f=e.col,g=this.options.max_cols,h=e.size_y,i=e.col,j=i;b||(b=e.size_x),c||(c=e.size_y),1/0!==g&&(b=Math.min(b,g-f+1)),c>h&&this.add_faux_rows(Math.max(c-h,0));var k=f+b-1;k>this.cols&&this.add_faux_cols(k-this.cols);var l={col:j,row:e.row,size_x:b,size_y:c};return this.mutate_widget_in_gridmap(a,e,l),this.set_dom_grid_height(),this.set_dom_grid_width(),d&&d.call(this,l.size_x,l.size_y),a},f.mutate_widget_in_gridmap=function(b,c,d){c.size_x;var e=c.size_y,f=this.get_cells_occupied(c),g=this.get_cells_occupied(d),h=[];a.each(f.cols,function(b,c){-1===a.inArray(c,g.cols)&&h.push(c)});var i=[];a.each(g.cols,function(b,c){-1===a.inArray(c,f.cols)&&i.push(c)});var j=[];a.each(f.rows,function(b,c){-1===a.inArray(c,g.rows)&&j.push(c)});var k=[];if(a.each(g.rows,function(b,c){-1===a.inArray(c,f.rows)&&k.push(c)}),this.remove_from_gridmap(c),i.length){var l=[d.col,d.row,d.size_x,Math.min(e,d.size_y),b];this.empty_cells.apply(this,l)}if(k.length){var m=[d.col,d.row,d.size_x,d.size_y,b];this.empty_cells.apply(this,m)}if(c.col=d.col,c.row=d.row,c.size_x=d.size_x,c.size_y=d.size_y,this.add_to_gridmap(d,b),b.removeClass("player-revert"),b.data("coords").update({width:d.size_x*this.options.widget_base_dimensions[0]+2*(d.size_x-1)*this.options.widget_margins[0],height:d.size_y*this.options.widget_base_dimensions[1]+2*(d.size_y-1)*this.options.widget_margins[1]}),b.attr({"data-col":d.col,"data-row":d.row,"data-sizex":d.size_x,"data-sizey":d.size_y}),h.length){var n=[h[0],d.row,h.length,Math.min(e,d.size_y),b];this.remove_empty_cells.apply(this,n)}if(j.length){var o=[d.col,d.row,d.size_x,d.size_y,b];this.remove_empty_cells.apply(this,o)}return this.move_widget_up(b),this},f.empty_cells=function(b,c,d,e,f){var g=this.widgets_below({col:b,row:c-e,size_x:d,size_y:e});return g.not(f).each(a.proxy(function(b,d){var f=a(d).coords().grid;if(c+e-1>=f.row){var g=c+e-f.row;this.move_widget_down(a(d),g)}},this)),this.set_dom_grid_height(),this},f.remove_empty_cells=function(b,c,d,e,f){var g=this.widgets_below({col:b,row:c,size_x:d,size_y:e});return g.not(f).each(a.proxy(function(b,c){this.move_widget_up(a(c),e)},this)),this.set_dom_grid_height(),this},f.next_position=function(a,b){a||(a=1),b||(b=1);for(var c,d=this.gridmap,e=d.length,f=[],g=1;e>g;g++){c=d[g].length;for(var h=1;c>=h;h++){var i=this.can_move_to({size_x:a,size_y:b},g,h);i&&f.push({col:g,row:h,size_y:b,size_x:a})}}return f.length?this.sort_by_row_and_col_asc(f)[0]:!1},f.remove_widget=function(b,c,d){var e=b instanceof a?b:a(b),f=e.coords().grid;a.isFunction(c)&&(d=c,c=!1),this.cells_occupied_by_placeholder={},this.$widgets=this.$widgets.not(e);var g=this.widgets_below(e);return this.remove_from_gridmap(f),e.fadeOut(a.proxy(function(){e.remove(),c||g.each(a.proxy(function(b,c){this.move_widget_up(a(c),f.size_y)},this)),this.set_dom_grid_height(),d&&d.call(this,b)},this)),this},f.remove_all_widgets=function(b){return this.$widgets.each(a.proxy(function(a,c){this.remove_widget(c,!0,b)},this)),this},f.serialize=function(b){b||(b=this.$widgets);var c=[];return b.each(a.proxy(function(b,d){c.push(this.options.serialize_params(a(d),a(d).coords().grid))},this)),c},f.serialize_changed=function(){return this.serialize(this.$changed)},f.register_widget=function(b){var c={col:parseInt(b.attr("data-col"),10),row:parseInt(b.attr("data-row"),10),size_x:parseInt(b.attr("data-sizex"),10),size_y:parseInt(b.attr("data-sizey"),10),max_size_x:parseInt(b.attr("data-max-sizex"),10)||!1,max_size_y:parseInt(b.attr("data-max-sizey"),10)||!1,min_size_x:parseInt(b.attr("data-min-sizex"),10)||!1,min_size_y:parseInt(b.attr("data-min-sizey"),10)||!1,el:b};return this.options.avoid_overlapped_widgets&&!this.can_move_to({size_x:c.size_x,size_y:c.size_y},c.col,c.row)&&(a.extend(c,this.next_position(c.size_x,c.size_y)),b.attr({"data-col":c.col,"data-row":c.row,"data-sizex":c.size_x,"data-sizey":c.size_y})),b.data("coords",b.coords()),b.data("coords").grid=c,this.add_to_gridmap(c,b),this.options.resize.enabled&&this.add_resize_handle(b),this},f.update_widget_position=function(a,b){return this.for_each_cell_occupied(a,function(a,c){return this.gridmap[a]?void(this.gridmap[a][c]=b):this}),this},f.remove_from_gridmap=function(a){return this.update_widget_position(a,!1)},f.add_to_gridmap=function(b,c){if(this.update_widget_position(b,c||b.el),b.el){var d=this.widgets_below(b.el);d.each(a.proxy(function(b,c){this.move_widget_up(a(c))},this))}},f.draggable=function(){var b=this,c=a.extend(!0,{},this.options.draggable,{offset_left:this.options.widget_margins[0],offset_top:this.options.widget_margins[1],container_width:this.cols*this.min_widget_width,limit:!0,ignore_dragging:["INPUT","TEXTAREA","SELECT","BUTTON","."+this.options.resize.handle_class],start:function(c,d){b.$widgets.filter(".player-revert").removeClass("player-revert"),b.$player=a(this),b.$helper=a(d.$helper),b.helper=!b.$helper.is(b.$player),b.on_start_drag.call(b,c,d),b.$el.trigger("gridster:dragstart")},stop:function(a,c){b.on_stop_drag.call(b,a,c),b.$el.trigger("gridster:dragstop")},drag:throttle(function(a,c){b.on_drag.call(b,a,c),b.$el.trigger("gridster:drag")},60)});return this.drag_api=this.$el.drag(c),this},f.resizable=function(){return this.resize_api=this.$el.drag({items:"."+this.options.resize.handle_class,offset_left:this.options.widget_margins[0],container_width:this.container_width,move_element:!1,resize:!0,limit:this.options.autogrow_cols?!1:!0,start:a.proxy(this.on_start_resize,this),stop:a.proxy(function(b,c){delay(a.proxy(function(){this.on_stop_resize(b,c)},this),120)},this),drag:throttle(a.proxy(this.on_resize,this),60)}),this},f.setup_resize=function(){this.resize_handle_class=this.options.resize.handle_class;var b=this.options.resize.axes,c='<span class="'+this.resize_handle_class+" "+this.resize_handle_class+'-{type}" />';return this.resize_handle_tpl=a.map(b,function(a){return c.replace("{type}",a)
}).join(""),this},f.on_start_drag=function(b,c){this.$helper.add(this.$player).add(this.$wrapper).addClass("dragging"),this.highest_col=this.get_highest_occupied_cell().col,this.$player.addClass("player"),this.player_grid_data=this.$player.coords().grid,this.placeholder_grid_data=a.extend({},this.player_grid_data),this.set_dom_grid_height(this.$el.height()+this.player_grid_data.size_y*this.min_widget_height),this.set_dom_grid_width(this.cols);var d=this.player_grid_data.size_x,e=this.cols-this.highest_col;this.options.autogrow_cols&&d>=e&&this.add_faux_cols(Math.min(d-e,1));var f=this.faux_grid,g=this.$player.data("coords").coords;this.cells_occupied_by_player=this.get_cells_occupied(this.player_grid_data),this.cells_occupied_by_placeholder=this.get_cells_occupied(this.placeholder_grid_data),this.last_cols=[],this.last_rows=[],this.collision_api=this.$helper.collision(f,this.options.collision),this.$preview_holder=a("<"+this.$player.get(0).tagName+" />",{"class":"preview-holder","data-row":this.$player.attr("data-row"),"data-col":this.$player.attr("data-col"),css:{width:g.width,height:g.height}}).appendTo(this.$el),this.options.draggable.start&&this.options.draggable.start.call(this,b,c)},f.on_drag=function(a,b){if(null===this.$player)return!1;var c={left:b.position.left+this.baseX,top:b.position.top+this.baseY};if(this.options.autogrow_cols){var d=this.placeholder_grid_data.col+this.placeholder_grid_data.size_x-1;d>=this.cols-1&&this.options.max_cols>=this.cols+1&&(this.add_faux_cols(1),this.set_dom_grid_width(this.cols+1),this.drag_api.set_limits(this.container_width)),this.collision_api.set_colliders(this.faux_grid)}this.colliders_data=this.collision_api.get_closest_colliders(c),this.on_overlapped_column_change(this.on_start_overlapping_column,this.on_stop_overlapping_column),this.on_overlapped_row_change(this.on_start_overlapping_row,this.on_stop_overlapping_row),this.helper&&this.$player&&this.$player.css({left:b.position.left,top:b.position.top}),this.options.draggable.drag&&this.options.draggable.drag.call(this,a,b)},f.on_stop_drag=function(a,b){this.$helper.add(this.$player).add(this.$wrapper).removeClass("dragging"),b.position.left=b.position.left+this.baseX,b.position.top=b.position.top+this.baseY,this.colliders_data=this.collision_api.get_closest_colliders(b.position),this.on_overlapped_column_change(this.on_start_overlapping_column,this.on_stop_overlapping_column),this.on_overlapped_row_change(this.on_start_overlapping_row,this.on_stop_overlapping_row),this.$player.addClass("player-revert").removeClass("player").attr({"data-col":this.placeholder_grid_data.col,"data-row":this.placeholder_grid_data.row}).css({left:"",top:""}),this.$changed=this.$changed.add(this.$player),this.cells_occupied_by_player=this.get_cells_occupied(this.placeholder_grid_data),this.set_cells_player_occupies(this.placeholder_grid_data.col,this.placeholder_grid_data.row),this.$player.coords().grid.row=this.placeholder_grid_data.row,this.$player.coords().grid.col=this.placeholder_grid_data.col,this.options.draggable.stop&&this.options.draggable.stop.call(this,a,b),this.$preview_holder.remove(),this.$player=null,this.$helper=null,this.placeholder_grid_data={},this.player_grid_data={},this.cells_occupied_by_placeholder={},this.cells_occupied_by_player={},this.set_dom_grid_height(),this.set_dom_grid_width(),this.options.autogrow_cols&&this.drag_api.set_limits(this.cols*this.min_widget_width)},f.on_start_resize=function(b,c){this.$resized_widget=c.$player.closest(".gs-w"),this.resize_coords=this.$resized_widget.coords(),this.resize_wgd=this.resize_coords.grid,this.resize_initial_width=this.resize_coords.coords.width,this.resize_initial_height=this.resize_coords.coords.height,this.resize_initial_sizex=this.resize_coords.grid.size_x,this.resize_initial_sizey=this.resize_coords.grid.size_y,this.resize_initial_col=this.resize_coords.grid.col,this.resize_last_sizex=this.resize_initial_sizex,this.resize_last_sizey=this.resize_initial_sizey,this.resize_max_size_x=Math.min(this.resize_wgd.max_size_x||this.options.resize.max_size[0],this.options.max_cols-this.resize_initial_col+1),this.resize_max_size_y=this.resize_wgd.max_size_y||this.options.resize.max_size[1],this.resize_min_size_x=this.resize_wgd.min_size_x||this.options.resize.min_size[0]||1,this.resize_min_size_y=this.resize_wgd.min_size_y||this.options.resize.min_size[1]||1,this.resize_initial_last_col=this.get_highest_occupied_cell().col,this.set_dom_grid_width(this.cols),this.resize_dir={right:c.$player.is("."+this.resize_handle_class+"-x"),bottom:c.$player.is("."+this.resize_handle_class+"-y")},this.$resized_widget.css({"min-width":this.options.widget_base_dimensions[0],"min-height":this.options.widget_base_dimensions[1]});var d=this.$resized_widget.get(0).tagName;this.$resize_preview_holder=a("<"+d+" />",{"class":"preview-holder resize-preview-holder","data-row":this.$resized_widget.attr("data-row"),"data-col":this.$resized_widget.attr("data-col"),css:{width:this.resize_initial_width,height:this.resize_initial_height}}).appendTo(this.$el),this.$resized_widget.addClass("resizing"),this.options.resize.start&&this.options.resize.start.call(this,b,c,this.$resized_widget),this.$el.trigger("gridster:resizestart")},f.on_stop_resize=function(b,c){this.$resized_widget.removeClass("resizing").css({width:"",height:""}),delay(a.proxy(function(){this.$resize_preview_holder.remove().css({"min-width":"","min-height":""}),this.options.resize.stop&&this.options.resize.stop.call(this,b,c,this.$resized_widget),this.$el.trigger("gridster:resizestop")},this),300),this.set_dom_grid_width(),this.options.autogrow_cols&&this.drag_api.set_limits(this.cols*this.min_widget_width)},f.on_resize=function(a,b){var c,d=b.pointer.diff_left,e=b.pointer.diff_top,f=this.options.widget_base_dimensions[0],g=this.options.widget_base_dimensions[1],h=this.options.widget_margins[0],i=this.options.widget_margins[1],j=this.resize_max_size_x,k=this.resize_min_size_x,l=this.resize_max_size_y,m=this.resize_min_size_y,n=this.options.autogrow_cols,o=1/0,p=1/0,q=Math.ceil(d/(f+2*h)-.2),r=Math.ceil(e/(g+2*i)-.2),s=Math.max(1,this.resize_initial_sizex+q),t=Math.max(1,this.resize_initial_sizey+r),u=this.container_width/this.min_widget_width-this.resize_initial_col+1,v=u*this.min_widget_width-2*h;if(s=Math.max(Math.min(s,j),k),s=Math.min(u,s),c=j*f+2*(s-1)*h,o=Math.min(c,v),min_width=k*f+2*(s-1)*h,t=Math.max(Math.min(t,l),m),p=l*g+2*(t-1)*i,min_height=m*g+2*(t-1)*i,this.resize_dir.right?t=this.resize_initial_sizey:this.resize_dir.bottom&&(s=this.resize_initial_sizex),n){var w=this.resize_initial_col+s-1;n&&w>=this.resize_initial_last_col&&(this.set_dom_grid_width(Math.max(w+1,this.cols)),w>this.cols&&this.add_faux_cols(w-this.cols))}var x={};!this.resize_dir.bottom&&(x.width=Math.max(Math.min(this.resize_initial_width+d,o),min_width)),!this.resize_dir.right&&(x.height=Math.max(Math.min(this.resize_initial_height+e,p),min_height)),this.$resized_widget.css(x),(s!==this.resize_last_sizex||t!==this.resize_last_sizey)&&(this.resize_widget(this.$resized_widget,s,t),this.set_dom_grid_width(this.cols),this.$resize_preview_holder.css({width:"",height:""}).attr({"data-row":this.$resized_widget.attr("data-row"),"data-sizex":s,"data-sizey":t})),this.options.resize.resize&&this.options.resize.resize.call(this,a,b,this.$resized_widget),this.$el.trigger("gridster:resize"),this.resize_last_sizex=s,this.resize_last_sizey=t},f.on_overlapped_column_change=function(b,c){if(!this.colliders_data.length)return this;var d,e=this.get_targeted_columns(this.colliders_data[0].el.data.col),f=this.last_cols.length,g=e.length;for(d=0;g>d;d++)-1===a.inArray(e[d],this.last_cols)&&(b||a.noop).call(this,e[d]);for(d=0;f>d;d++)-1===a.inArray(this.last_cols[d],e)&&(c||a.noop).call(this,this.last_cols[d]);return this.last_cols=e,this},f.on_overlapped_row_change=function(b,c){if(!this.colliders_data.length)return this;var d,e=this.get_targeted_rows(this.colliders_data[0].el.data.row),f=this.last_rows.length,g=e.length;for(d=0;g>d;d++)-1===a.inArray(e[d],this.last_rows)&&(b||a.noop).call(this,e[d]);for(d=0;f>d;d++)-1===a.inArray(this.last_rows[d],e)&&(c||a.noop).call(this,this.last_rows[d]);this.last_rows=e},f.set_player=function(a,b,c){var d=this;c||this.empty_cells_player_occupies();var e=c?{col:a}:d.colliders_data[0].el.data,f=e.col,g=b||e.row;this.player_grid_data={col:f,row:g,size_y:this.player_grid_data.size_y,size_x:this.player_grid_data.size_x},this.cells_occupied_by_player=this.get_cells_occupied(this.player_grid_data);var h=this.get_widgets_overlapped(this.player_grid_data),i=this.widgets_constraints(h);if(this.manage_movements(i.can_go_up,f,g),this.manage_movements(i.can_not_go_up,f,g),!h.length){var j=this.can_go_player_up(this.player_grid_data);j!==!1&&(g=j),this.set_placeholder(f,g)}return{col:f,row:g}},f.widgets_constraints=function(b){var c,d=a([]),e=[],f=[];return b.each(a.proxy(function(b,c){var g=a(c),h=g.coords().grid;this.can_go_widget_up(h)?(d=d.add(g),e.push(h)):f.push(h)},this)),c=b.not(d),{can_go_up:this.sort_by_row_asc(e),can_not_go_up:this.sort_by_row_desc(f)}},f.sort_by_row_asc=function(b){return b=b.sort(function(b,c){return b.row||(b=a(b).coords().grid,c=a(c).coords().grid),b.row>c.row?1:-1})},f.sort_by_row_and_col_asc=function(a){return a=a.sort(function(a,b){return a.row>b.row||a.row===b.row&&a.col>b.col?1:-1})},f.sort_by_col_asc=function(a){return a=a.sort(function(a,b){return a.col>b.col?1:-1})},f.sort_by_row_desc=function(a){return a=a.sort(function(a,b){return a.row+a.size_y<b.row+b.size_y?1:-1})},f.manage_movements=function(b,c,d){return a.each(b,a.proxy(function(a,b){var e=b,f=e.el,g=this.can_go_widget_up(e);if(g)this.move_widget_to(f,g),this.set_placeholder(c,g+e.size_y);else{var h=this.can_go_player_up(this.player_grid_data);if(!h){var i=d+this.player_grid_data.size_y-e.row;this.move_widget_down(f,i),this.set_placeholder(c,d)}}},this)),this},f.is_player=function(a,b){if(b&&!this.gridmap[a])return!1;var c=b?this.gridmap[a][b]:a;return c&&(c.is(this.$player)||c.is(this.$helper))},f.is_player_in=function(b,c){var d=this.cells_occupied_by_player||{};return a.inArray(b,d.cols)>=0&&a.inArray(c,d.rows)>=0},f.is_placeholder_in=function(b,c){var d=this.cells_occupied_by_placeholder||{};return this.is_placeholder_in_col(b)&&a.inArray(c,d.rows)>=0},f.is_placeholder_in_col=function(b){var c=this.cells_occupied_by_placeholder||[];return a.inArray(b,c.cols)>=0},f.is_empty=function(a,b){return void 0!==this.gridmap[a]?void 0!==this.gridmap[a][b]&&this.gridmap[a][b]===!1?!0:!1:!0},f.is_occupied=function(a,b){return this.gridmap[a]?this.gridmap[a][b]?!0:!1:!1},f.is_widget=function(a,b){var c=this.gridmap[a];return c?(c=c[b],c?c:!1):!1},f.is_widget_under_player=function(a,b){return this.is_widget(a,b)?this.is_player_in(a,b):!1},f.get_widgets_under_player=function(b){b||(b=this.cells_occupied_by_player||{cols:[],rows:[]});var c=a([]);return a.each(b.cols,a.proxy(function(d,e){a.each(b.rows,a.proxy(function(a,b){this.is_widget(e,b)&&(c=c.add(this.gridmap[e][b]))},this))},this)),c},f.set_placeholder=function(b,c){var d=a.extend({},this.placeholder_grid_data),e=this.widgets_below({col:d.col,row:d.row,size_y:d.size_y,size_x:d.size_x}),f=b+d.size_x-1;f>this.cols&&(b-=f-b);var g=c>this.placeholder_grid_data.row,h=this.placeholder_grid_data.col!==b;this.placeholder_grid_data.col=b,this.placeholder_grid_data.row=c,this.cells_occupied_by_placeholder=this.get_cells_occupied(this.placeholder_grid_data),this.$preview_holder.attr({"data-row":c,"data-col":b}),(g||h)&&e.each(a.proxy(function(c,e){this.move_widget_up(a(e),this.placeholder_grid_data.col-b+d.size_y)},this));var i=this.get_widgets_under_player(this.cells_occupied_by_placeholder);i.length&&i.each(a.proxy(function(b,e){var f=a(e);this.move_widget_down(f,c+d.size_y-f.data("coords").grid.row)},this))},f.can_go_player_up=function(a){var b=a.row+a.size_y-1,c=!0,d=[],e=1e4,f=this.get_widgets_under_player();return this.for_each_column_occupied(a,function(a){var g=this.gridmap[a],h=b+1;for(d[a]=[];--h>0&&(this.is_empty(a,h)||this.is_player(a,h)||this.is_widget(a,h)&&g[h].is(f));)d[a].push(h),e=e>h?h:e;return 0===d[a].length?(c=!1,!0):void d[a].sort(function(a,b){return a-b})}),c?this.get_valid_rows(a,d,e):!1},f.can_go_widget_up=function(a){var b=a.row+a.size_y-1,c=!0,d=[],e=1e4;return this.for_each_column_occupied(a,function(f){var g=this.gridmap[f];d[f]=[];for(var h=b+1;--h>0&&(!this.is_widget(f,h)||this.is_player_in(f,h)||g[h].is(a.el));)this.is_player(f,h)||this.is_placeholder_in(f,h)||this.is_player_in(f,h)||d[f].push(h),e>h&&(e=h);return 0===d[f].length?(c=!1,!0):void d[f].sort(function(a,b){return a-b})}),c?this.get_valid_rows(a,d,e):!1},f.get_valid_rows=function(b,c,d){for(var e=b.row,f=b.row+b.size_y-1,g=b.size_y,h=d-1,i=[];f>=++h;){var j=!0;if(a.each(c,function(b,c){a.isArray(c)&&-1===a.inArray(h,c)&&(j=!1)}),j===!0&&(i.push(h),i.length===g))break}var k=!1;return 1===g?i[0]!==e&&(k=i[0]||!1):i[0]!==e&&(k=this.get_consecutive_numbers_index(i,g)),k},f.get_consecutive_numbers_index=function(a,b){for(var c=a.length,d=[],e=!0,f=-1,g=0;c>g;g++){if(e||a[g]===f+1){if(d.push(g),d.length===b)break;e=!1}else d=[],e=!0;f=a[g]}return d.length>=b?a[d[0]]:!1},f.get_widgets_overlapped=function(){var b=a([]),c=[],d=this.cells_occupied_by_player.rows.slice(0);return d.reverse(),a.each(this.cells_occupied_by_player.cols,a.proxy(function(e,f){a.each(d,a.proxy(function(d,e){if(!this.gridmap[f])return!0;var g=this.gridmap[f][e];this.is_occupied(f,e)&&!this.is_player(g)&&-1===a.inArray(g,c)&&(b=b.add(g),c.push(g))},this))},this)),b},f.on_start_overlapping_column=function(a){this.set_player(a,!1)},f.on_start_overlapping_row=function(a){this.set_player(!1,a)},f.on_stop_overlapping_column=function(a){this.set_player(a,!1);var b=this;this.for_each_widget_below(a,this.cells_occupied_by_player.rows[0],function(){b.move_widget_up(this,b.player_grid_data.size_y)})},f.on_stop_overlapping_row=function(a){this.set_player(!1,a);for(var b=this,c=this.cells_occupied_by_player.cols,d=0,e=c.length;e>d;d++)this.for_each_widget_below(c[d],a,function(){b.move_widget_up(this,b.player_grid_data.size_y)})},f.move_widget_to=function(b,c){var d=this,e=b.coords().grid;c-e.row;var f=this.widgets_below(b),g=this.can_move_to(e,e.col,c,b);return g===!1?!1:(this.remove_from_gridmap(e),e.row=c,this.add_to_gridmap(e),b.attr("data-row",c),this.$changed=this.$changed.add(b),f.each(function(b,c){var e=a(c),f=e.coords().grid,g=d.can_go_widget_up(f);g&&g!==f.row&&d.move_widget_to(e,g)}),this)},f.move_widget_up=function(b,c){var d=b.coords().grid,e=d.row,f=[];return c||(c=1),this.can_go_up(b)?void this.for_each_column_occupied(d,function(d){if(-1===a.inArray(b,f)){var g=b.coords().grid,h=e-c;if(h=this.can_go_up_to_row(g,d,h),!h)return!0;var i=this.widgets_below(b);this.remove_from_gridmap(g),g.row=h,this.add_to_gridmap(g),b.attr("data-row",g.row),this.$changed=this.$changed.add(b),f.push(b),i.each(a.proxy(function(b,d){this.move_widget_up(a(d),c)},this))}}):!1},f.move_widget_down=function(b,c){var d,e,f,g;if(0>=c)return!1;if(d=b.coords().grid,e=d.row,f=[],g=c,!b)return!1;if(-1===a.inArray(b,f)){var h=b.coords().grid,i=e+c,j=this.widgets_below(b);this.remove_from_gridmap(h),j.each(a.proxy(function(b,c){var d=a(c),e=d.coords().grid,f=this.displacement_diff(e,h,g);f>0&&this.move_widget_down(d,f)},this)),h.row=i,this.update_widget_position(h,b),b.attr("data-row",h.row),this.$changed=this.$changed.add(b),f.push(b)}},f.can_go_up_to_row=function(b,c,d){var e,f=this.gridmap,g=!0,h=[],i=b.row;if(this.for_each_column_occupied(b,function(a){for(f[a],h[a]=[],e=i;e--&&this.is_empty(a,e)&&!this.is_placeholder_in(a,e);)h[a].push(e);return h[a].length?void 0:(g=!1,!0)}),!g)return!1;for(e=d,e=1;i>e;e++){for(var j=!0,k=0,l=h.length;l>k;k++)h[k]&&-1===a.inArray(e,h[k])&&(j=!1);if(j===!0){g=e;break}}return g},f.displacement_diff=function(a,b,c){var d=a.row,e=[],f=b.row+b.size_y;this.for_each_column_occupied(a,function(a){for(var b=0,c=f;d>c;c++)this.is_empty(a,c)&&(b+=1);e.push(b)});var g=Math.max.apply(Math,e);return c-=g,c>0?c:0},f.widgets_below=function(b){var c=a.isPlainObject(b)?b:b.coords().grid,d=this;this.gridmap;var e=c.row+c.size_y-1,f=a([]);return this.for_each_column_occupied(c,function(b){d.for_each_widget_below(b,e,function(){return d.is_player(this)||-1!==a.inArray(this,f)?void 0:(f=f.add(this),!0)})}),this.sort_by_row_asc(f)},f.set_cells_player_occupies=function(a,b){return this.remove_from_gridmap(this.placeholder_grid_data),this.placeholder_grid_data.col=a,this.placeholder_grid_data.row=b,this.add_to_gridmap(this.placeholder_grid_data,this.$player),this},f.empty_cells_player_occupies=function(){return this.remove_from_gridmap(this.placeholder_grid_data),this},f.can_go_up=function(a){var b=a.coords().grid,c=b.row,d=c-1;this.gridmap;var e=!0;return 1===c?!1:(this.for_each_column_occupied(b,function(a){return this.is_widget(a,d),this.is_occupied(a,d)||this.is_player(a,d)||this.is_placeholder_in(a,d)||this.is_player_in(a,d)?(e=!1,!0):void 0}),e)},f.can_move_to=function(a,b,c,d){this.gridmap;var e=a.el,f={size_y:a.size_y,size_x:a.size_x,col:b,row:c},g=!0,h=b+a.size_x-1;return h>this.cols?!1:d&&c+a.size_y-1>d?!1:(this.for_each_cell_occupied(f,function(b,c){var d=this.is_widget(b,c);!d||a.el&&!d.is(e)||(g=!1)}),g)},f.get_targeted_columns=function(a){for(var b=(a||this.player_grid_data.col)+(this.player_grid_data.size_x-1),c=[],d=a;b>=d;d++)c.push(d);return c},f.get_targeted_rows=function(a){for(var b=(a||this.player_grid_data.row)+(this.player_grid_data.size_y-1),c=[],d=a;b>=d;d++)c.push(d);return c},f.get_cells_occupied=function(b){var c,d={cols:[],rows:[]};for(arguments[1]instanceof a&&(b=arguments[1].coords().grid),c=0;b.size_x>c;c++){var e=b.col+c;d.cols.push(e)}for(c=0;b.size_y>c;c++){var f=b.row+c;d.rows.push(f)}return d},f.for_each_cell_occupied=function(a,b){return this.for_each_column_occupied(a,function(c){this.for_each_row_occupied(a,function(a){b.call(this,c,a)})}),this},f.for_each_column_occupied=function(a,b){for(var c=0;a.size_x>c;c++){var d=a.col+c;b.call(this,d,a)}},f.for_each_row_occupied=function(a,b){for(var c=0;a.size_y>c;c++){var d=a.row+c;b.call(this,d,a)}},f._traversing_widgets=function(b,c,d,e,f){var g=this.gridmap;if(g[d]){var h,i,j=b+"/"+c;if(arguments[2]instanceof a){var k=arguments[2].coords().grid;d=k.col,e=k.row,f=arguments[3]}var l=[],m=e,n={"for_each/above":function(){for(;m--&&!(m>0&&this.is_widget(d,m)&&-1===a.inArray(g[d][m],l)&&(h=f.call(g[d][m],d,m),l.push(g[d][m]),h)););},"for_each/below":function(){for(m=e+1,i=g[d].length;i>m&&(!this.is_widget(d,m)||-1!==a.inArray(g[d][m],l)||(h=f.call(g[d][m],d,m),l.push(g[d][m]),!h));m++);}};n[j]&&n[j].call(this)}},f.for_each_widget_above=function(a,b,c){return this._traversing_widgets("for_each","above",a,b,c),this},f.for_each_widget_below=function(a,b,c){return this._traversing_widgets("for_each","below",a,b,c),this},f.get_highest_occupied_cell=function(){for(var a,b=this.gridmap,c=b[1].length,d=[],e=[],f=b.length-1;f>=1;f--)for(a=c-1;a>=1;a--)if(this.is_widget(f,a)){d.push(a),e.push(f);break}return{col:Math.max.apply(Math,e),row:Math.max.apply(Math,d)}},f.get_widgets_from=function(b,c){this.gridmap;var d=a();return b&&(d=d.add(this.$widgets.filter(function(){var c=a(this).attr("data-col");return c===b||c>b}))),c&&(d=d.add(this.$widgets.filter(function(){var b=a(this).attr("data-row");return b===c||b>c}))),d},f.set_dom_grid_height=function(a){if(void 0===a){var b=this.get_highest_occupied_cell().row;a=b*this.min_widget_height}return this.container_height=a,this.$el.css("height",this.container_height),this},f.set_dom_grid_width=function(a){void 0===a&&(a=this.get_highest_occupied_cell().col);var b=this.options.autogrow_cols?this.options.max_cols:this.cols;return a=Math.min(b,Math.max(a,this.options.min_cols)),this.container_width=a*this.min_widget_width,this.$el.css("width",this.container_width),this},f.generate_stylesheet=function(a){var b,c="",d=this.options.max_size_x||this.cols;for(a||(a={}),a.cols||(a.cols=this.cols),a.rows||(a.rows=this.rows),a.namespace||(a.namespace=this.options.namespace),a.widget_base_dimensions||(a.widget_base_dimensions=this.options.widget_base_dimensions),a.widget_margins||(a.widget_margins=this.options.widget_margins),a.min_widget_width=2*a.widget_margins[0]+a.widget_base_dimensions[0],a.min_widget_height=2*a.widget_margins[1]+a.widget_base_dimensions[1],b=a.cols;b>=0;b--)c+=a.namespace+' [data-col="'+(b+1)+'"] { left:'+(b*a.widget_base_dimensions[0]+b*a.widget_margins[0]+(b+1)*a.widget_margins[0])+"px;} ";for(b=a.rows;b>=0;b--)c+=a.namespace+' [data-row="'+(b+1)+'"] { top:'+(b*a.widget_base_dimensions[1]+b*a.widget_margins[1]+(b+1)*a.widget_margins[1])+"px;} ";for(var e=1;e<=a.rows;e++)c+=a.namespace+' [data-sizey="'+e+'"] { height:'+(e*a.widget_base_dimensions[1]+(e-1)*a.widget_margins[1]*2)+"px;}";for(var f=1;d>=f;f++)c+=a.namespace+' [data-sizex="'+f+'"] { width:'+(f*a.widget_base_dimensions[0]+(f-1)*a.widget_margins[0]*2)+"px;}";return this.add_style_tag(c)},f.add_style_tag=function(a){var b=document,c=b.createElement("style");return c.setAttribute("generated-from","gridster"),b.getElementsByTagName("head")[0].appendChild(c),c.setAttribute("type","text/css"),c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a)),this},f.resize_widget_dimensions=function(a){a.widget_margins&&(this.options.widget_margins=a.widget_margins),a.widget_base_dimensions&&(this.options.widget_base_dimensions=a.widget_base_dimensions),this.min_widget_width=2*this.options.widget_margins[0]+this.options.widget_base_dimensions[0],this.min_widget_height=2*this.options.widget_margins[1]+this.options.widget_base_dimensions[1];this.serialize();return this.$widgets.each($.proxy(function(a,b){var c=$(b);this.resize_widget(c)},this)),this.generate_grid_and_stylesheet(),this.get_widgets_from_DOM(),this.set_dom_grid_height(),!1},f.add_style_tag=function(a){var b=c,d=b.createElement("style");return b.getElementsByTagName("head")[0].appendChild(d),d.setAttribute("type","text/css"),d.styleSheet?d.styleSheet.cssText=a:d.appendChild(c.createTextNode(a)),this.$style_tags=this.$style_tags.add(d),this},f.remove_style_tags=function(){var b=d.generated_stylesheets,c=this.generated_stylesheets;this.$style_tags.remove(),d.generated_stylesheets=a.map(b,function(b){return-1===a.inArray(b,c)?b:void 0})},f.generate_faux_grid=function(a,b){this.faux_grid=[],this.gridmap=[];var c,d;for(c=b;c>0;c--)for(this.gridmap[c]=[],d=a;d>0;d--)this.add_faux_cell(d,c);return this},f.add_faux_cell=function(b,c){var d=a({left:this.baseX+(c-1)*this.min_widget_width,top:this.baseY+(b-1)*this.min_widget_height,width:this.min_widget_width,height:this.min_widget_height,col:c,row:b,original_col:c,original_row:b}).coords();return a.isArray(this.gridmap[c])||(this.gridmap[c]=[]),this.gridmap[c][b]=!1,this.faux_grid.push(d),this},f.add_faux_rows=function(a){for(var b=this.rows,c=b+(a||1),d=c;d>b;d--)for(var e=this.cols;e>=1;e--)this.add_faux_cell(d,e);return this.rows=c,this.options.autogenerate_stylesheet&&this.generate_stylesheet(),this},f.add_faux_cols=function(a){var b=this.cols,c=b+(a||1);c=Math.min(c,this.options.max_cols);for(var d=b+1;c>=d;d++)for(var e=this.rows;e>=1;e--)this.add_faux_cell(e,d);return this.cols=c,this.options.autogenerate_stylesheet&&this.generate_stylesheet(),this},f.recalculate_faux_grid=function(){var c=this.$wrapper.width();return this.baseX=(a(b).width()-c)/2,this.baseY=this.$wrapper.offset().top,a.each(this.faux_grid,a.proxy(function(a,b){this.faux_grid[a]=b.update({left:this.baseX+(b.data.col-1)*this.min_widget_width,top:this.baseY+(b.data.row-1)*this.min_widget_height})},this)),this},f.get_widgets_from_DOM=function(){return this.$widgets.each(a.proxy(function(b,c){this.register_widget(a(c))},this)),this},f.generate_grid_and_stylesheet=function(){var a=this.$wrapper.width(),b=(this.$wrapper.height(),this.options.max_cols,Math.floor(a/this.min_widget_width)+this.options.extra_cols),c=(this.options.min_cols,this.options.extra_rows);return this.$widgets.each(function(a,b){c+=+$(b).attr("data-sizey")}),this.cols=b,this.rows=Math.max(c,this.options.min_rows),this.baseX=($(window).width()-a)/2,this.baseY=this.$wrapper.offset().top,this.container_width=this.cols*this.options.widget_base_dimensions[0]+2*(this.cols-1)*this.options.widget_margins[0],this.check_nested(this,"drag_api","options","container_width")&&(this.drag_api.options.container_width=this.container_width),this.options.autogenerate_stylesheet&&this.generate_stylesheet(),this.generate_faux_grid(this.rows,this.cols)},f.check_nested=function(a){for(var b=Array.prototype.slice.call(arguments),a=b.shift(),c=0;c<b.length;c++){if(!a.hasOwnProperty(b[c]))return!1;a=a[b[c]]}return!0},f.fit_widgets_to_columns=function(a){var b,c,d,e;b=$.makeArray(this.$widgets),$(b).each($.proxy(function(b,f){var g=$(f);c=parseInt(g.attr("data-sizex"),10),d=parseInt(g.attr("data-orig-sizex"),10),e=Math.min(a,d),c!==e&&(c=e,this.resize_widget(g,e))},this))},f.reset_columns=function(){var a;this.generate_grid_and_stylesheet(),a=$.makeArray(this.$widgets),a.sort(function(a,b){var c;return c=parseInt(a.dataset.row,10)-parseInt(b.dataset.row,10),0===c?parseInt(a.dataset.col,10)-parseInt(b.dataset.col,10):c}),$(a).each($.proxy(function(a,b){var c;c=$(b),c.removeData("coord"),c.attr("data-col",1),c.attr("data-row",1),this.register_widget(c)},this))},f.destroy=function(c){return this.$el.removeData("gridster"),a(b).unbind(".gridster"),this.drag_api&&this.drag_api.destroy(),this.remove_style_tags(),c&&this.$el.remove(),this},a.fn.gridster=function(b){return this.each(function(){a(this).data("gridster")||a(this).data("gridster",new d(this,b))})},a.Gridster=f}(jQuery,window,document),angular.module("ark-components").directive("arkWidgetSlideshow",["$templateCache",function(a){return{replace:!0,restrict:"E",priority:1,scope:!0,template:a.get("ark-widget-slideshow/ark-widget-slideshow-view.html"),link:function(){}}}]),angular.module("ark-components").directive("arkWidget",["$templateCache",function(a){return{template:a.get("ark-widget/ark-widget-view.html"),restrict:"E",replace:!0,transclude:!0,priority:2,scope:!0,link:function(a,b,c){a.title=c.title,b.addClass("ark-widget")}}}]),angular.module("ark-components").directive("arkWidgetStandalone",function(){return{link:function(a,b){console.log("arkWidgetStandalone"),b.addClass("ark-widget-standalone-mode")}}}),angular.module("ark-components").controller("ChangepasswordCtrl",["$scope",function(a){a.formTitle=[{username:"Email Address",oldPassword:"Old Password",newPassword:"New Password",confirmPassword:"Confirm Password",button:"Submit",page:"CHANGE YOUR PASSWORD"}],a.formData={}}]),angular.module("ark-components").controller("ForgotpasswordCtrl",["$scope",function(a){a.formTitle=[{page:"RETRIEVE YOUR PASSWORD",emailAddress:"E-mail Address",button:"Submit"}]}]),angular.module("ark-components").directive("login",function(){function a(a,b){a.$watch("language",function(b){"de"===b.value&&a.formTitleDe&&(a.formTitle=a.formTitleDe),"en"===b.value&&a.formTitleEn&&(a.formTitle=a.formTitleEn)}),b.bind("submit",function(){console.log(a.formData.email),console.log(a.formData.password)})}return{restrict:"AE",link:a}}),angular.module("ark-components").run(["$templateCache",function(a){a.put("ark-datepicker/ark-datepicker.html",'<div ng-switch="datepickerMode" class="ArkDatePicker">\n  <ark-daypicker ng-switch-when="day"></ark-daypicker>\n  <ark-monthpicker ng-switch-when="month"></ark-monthpicker>\n  <ark-yearpicker ng-switch-when="year"></ark-yearpicker>\n</div>\n\n\n\n'),a.put("ark-datepicker/day.html",'<div class="day-view">\n  <div class="month-index">\n    <table >\n      <thead>\n        <tr>\n          <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)"><i class="fonticon icon-chevron-left"></i></button></th>\n          <th colspan="{{5 + showWeeks}}"><button type="button" class="btn btn-default btn-sm btn-block" ng-click="toggleMode()"><strong>{{title}}</strong></button></th>\n          <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)"><i class="fonticon icon-chevron-right"></i></button></th>\n        </tr>\n      </thead>\n    </table>\n  </div>\n  <div class="day-table">\n    <table>\n      <thead>\n        <tr class="ArkDatepicker-labels">\n          <th ng-show="showWeeks" class="text-center"></th>\n          <th ng-repeat="label in labels track by $index" class="text-center day-label"><small>{{label}}</small></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-repeat="row in rows track by $index">\n          <td ng-show="showWeeks" class="text-center"><small><em>{{ weekNumbers[$index] }}</em></small></td>\n          <td ng-repeat="dt in row track by dt.date" class="text-center">\n            <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected}" ng-click="select(dt.date)" ng-disabled="dt.disabled">\n              <span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span>\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n'),a.put("ark-datepicker/month.html",'<table>\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button type="button" class="btn btn-default btn-sm btn-block" ng-click="toggleMode()"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected}" ng-click="select(dt.date)" ng-disabled="dt.disabled"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'),a.put("ark-datepicker/popup.html","<ul class=\"dropdown-menu ArkDatePicker-wrap\" ng-style=\"{display: (isOpen && 'block') || 'none', top: position.top+'px', left: position.left+'px'}\">\n	<li ng-transclude></li>\n"+'	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="$parent.isOpen = false">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n'),a.put("ark-datepicker/year.html",'<table>\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button type="button" class="btn btn-default btn-sm btn-block" ng-click="toggleMode()"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected}" ng-click="select(dt.date)" ng-disabled="dt.disabled"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'),a.put("ark-navbar/ark-navbar-view.html",'<nav ng-controller="navigationBarCtrl" class="navbar navbar-default" role="navigation">\n\n    <div class="container-fluid">\n\n        <!-- Brand and toggle get grouped for better mobile display -->\n        <div id="{{navigationJSON.header.id}}" ng-if="navigationJSON.header" class="navbar-header">\n            <a ng-if="navigationJSON.header && navigationJSON.header.route" class="navbar-brand" href="{{navigationJSON.header.route}}">\n                <span ng-if="navigationJSON.header.fonticon" class="fonticon {{navigationJSON.header.fonticon}}"></span>\n                <span>{{i18n?i18n[navigationJSON.header.id]:""}}</span>\n            </a>\n            <a ng-if="navigationJSON.header && !navigationJSON.header.route" class="navbar-brand">\n                <span ng-if="navigationJSON.header.fonticon" class="fonticon {{navigationJSON.header.fonticon}}"></span>\n                <span>{{i18n?i18n[navigationJSON.header.id]:""}}</span>\n            </a>\n        </div>\n\n        <!-- Collect the nav links, forms, and other content for toggling -->\n        <div class="collapse navbar-collapse">\n\n          <!-- left -->\n          <ul class="nav navbar-nav">\n\n              <li ng-repeat="item in navigationJSON.left" id="{{item.id}}" class="{{item.children ? \'dropdown\' : \'\'}} {{matchRoute(item.route).module ? \'active\' : \'\'}}">\n\n                  <a href="{{!item.children ? item.route : \'#\'}}" class="{{item.children ? \'dropdown-toggle\' : \'\'}}" data-toggle="{{item.children ? \'dropdown\' : \'\'}}">\n                      <span ng-if="!item.fonticon">{{i18n?i18n[item.id]:""}} <b ng-if="item.caret == true" class="caret"></b></span>\n                      <span ng-if="item.fonticon" title="{{i18n?i18n[item.id]:\'\'}}">\n                          <span class="fonticon {{item.fonticon}}"></span>\n                          <b ng-if="item.caret == true" class="caret"></b>\n                      </span>\n                  </a>\n\n                  <ul ng-if="item.children" class="dropdown-menu">\n\n                      <li ng-repeat="subItem in item.children" id="{{subItem.id}}" class="{{subItem.children ? \'dropdown\' : \'\'}} {{subItem.type == \'sub-group\' ? \'divider\' : \'\'}} {{matchRoute(subItem.route).subModule ? \'active\' : \'\'}}">\n\n                          <a ng-if="subItem.type == \'sub-item\'" class="{{subItem.children ? \'dropdown-toggle dropdown-nested\' : \'\'}}" data-toggle="{{subItem.children ? \'dropdown\' : \'\'}}" href="{{!subItem.children ? subItem.route : \'\'}}">{{i18n?i18n[subItem.id]:""}}</a>\n\n                          <span ng-if="subItem.type == \'sub-group\'">{{i18n?i18n[subItem.id]:""}}</span>\n\n                          <ul ng-if="subItem.children" class="dropdown-menu sub-menu">\n\n                              <li ng-repeat="subSubItem in subItem.children" id="{{subSubItem.id}}" class="{{subSubItem.type == \'sub-group\' ? \'divider\' : \'\'}} {{matchRoute(subSubItem.route).subModule ? \'active\' : \'\'}}">\n                                  <a ng-if="subSubItem.type == \'sub-item\'" href="{{subSubItem.route}}">{{i18n?i18n[subSubItem.id]:""}}</a>\n                                  <span ng-if="subSubItem.type == \'sub-group\'">{{i18n?i18n[subSubItem.id]:""}}</span>\n                              </li>\n\n                          </ul>\n\n                      </li>\n\n                  </ul>\n\n              </li>\n\n          </ul>\n\n          <!-- right -->\n          <ul class="nav navbar-nav navbar-right">\n\n              <li ng-repeat="item in navigationJSON.right" id="{{item.id}}" class="{{item.children ? \'dropdown\' : \'\'}} {{matchRoute(item.route).module ? \'active\' : \'\'}}">\n\n                  <a href="{{!item.children ? item.route : \'#\'}}" class="{{item.children ? \'dropdown-toggle\' : \'\'}}" data-toggle="{{item.children ? \'dropdown\' : \'\'}}">\n                      <span ng-if="!item.fonticon">{{i18n?i18n[item.id]:""}} <b ng-if="item.caret == true" class="caret"></b></span>\n                      <span ng-if="item.fonticon" title="{{i18n?i18n[item.id]:\'\'}}">\n                          <span class="fonticon {{item.fonticon}}"></span>\n                          <b ng-if="item.caret == true" class="caret"></b>\n                      </span>\n                  </a>\n\n                  <ul ng-if="item.children" class="dropdown-menu">\n\n                      <li ng-repeat="subItem in item.children" id="{{subItem.id}}" class="{{subItem.children ? \'dropdown\' : \'\'}} {{subItem.type == \'sub-group\' ? \'divider\' : \'\'}} {{matchRoute(subItem.route).subModule ? \'active\' : \'\'}}">\n\n                          <a ng-if="subItem.type == \'sub-item\'" class="{{subItem.children ? \'dropdown-toggle dropdown-nested\' : \'\'}}" data-toggle="{{subItem.children ? \'dropdown\' : \'\'}}" href="{{!subItem.children ? subItem.route : \'\'}}">{{i18n?i18n[subItem.id]:""}}</a>\n\n                          <span ng-if="subItem.type == \'sub-group\'">{{i18n?i18n[subItem.id]:""}}</span>\n\n                          <ul ng-if="subItem.children" class="dropdown-menu sub-menu">\n\n                              <li ng-repeat="subSubItem in subItem.children" id="{{subSubItem.id}}" class="{{subSubItem.type == \'sub-group\' ? \'divider\' : \'\'}} {{matchRoute(subSubItem.route).subModule ? \'active\' : \'\'}}">\n                                  <a ng-if="subSubItem.type == \'sub-item\'" href="{{subSubItem.route}}">{{i18n?i18n[subSubItem.id]:""}}</a>\n                                  <span ng-if="subSubItem.type == \'sub-group\'">{{i18n?i18n[subSubItem.id]:""}}</span>\n                              </li>\n\n                          </ul>\n\n                      </li>\n\n                  </ul>\n\n              </li>\n\n          </ul>\n\n        </div><!-- /.navbar-collapse -->\n\n    </div><!-- /.container-fluid -->\n\n</nav>\n'),a.put("ark-widget-calculator/ark-widget-calculator-view.html",'<li class="ark-widget-calculator ArkWidgetCollection-item js-addTransitions">\n    <ark-widget data-title="Calculator">\n\n        <button>CE</button>\n        <button>&lt;&lt;</button>\n        <button>%</button>\n        <button>+</button>\n\n        <button>7</button>\n        <button>8</button>\n        <button>9</button>\n        <button>-</button>\n\n        <button>4</button>\n        <button>5</button>\n        <button>6</button>\n        <button>*</button>\n\n        <button>1</button>\n        <button>2</button>\n        <button>3</button>\n        <button>/</button>\n\n        <button>0</button>\n        <button>+/-</button>\n        <button>,</button>\n        <button>=</button>\n\n    </ark-widget>\n</li>\n'),a.put("ark-widget-layout/ark-widget-layout-view.html","<div class='WidgetCollection gridster'>\n    <ul ng-transclude></ul>\n</div>\n"),a.put("ark-widget-slideshow/ark-widget-slideshow-view.html",'<li class="ark-widget-slideshow ArkWidgetCollection-item js-addTransitions">\n    <ark-widget data-title="Slideshow">\n        <img style="height:100%; width:100%" src="http://waybeyondthedream.files.wordpress.com/2013/01/happy_life_.jpg"/>\n    </ark-widget>\n</li>\n'),a.put("ark-widget/ark-widget-view.html",'<div class="ArkWidgetWrapper">\n    <div class="ArkWidgetWrapper-controls">\n        <div class="ArkWidgetWrapper-control ArkWidgetWrapper-controlGrab js-controlGrab">\n            <span class="fonticon icon-grab"></span>\n        </div>\n        <div class="ArkWidgetWrapper-control ArkWidgetWrapper-controlPop">\n            <button class="js-popOverMenu">\n                <span class="fonticon icon-settings-gear"></span>\n            </button>\n        </div>\n    </div>\n    <div class="ArkWidgetWrapper-title">\n        {{title}}\n    </div>\n    <div class="ArkWidgetWrapper-widget" ng-transclude>\n\n    </div>\n</div>\n'),a.put("change-password/change-password.html",'	<h2>{{formTitle[0].page}}</h2>\n	<form class="simple-form">\n	   	{{formTitle[0].oldPassword}} <br />\n	   	<input type="password" ng-model="formData.oldPassword" /><br />\n		{{formTitle[0].newPassword}} <br />\n	    <input type="password" ng-model="formData.newPassword" /><br />\n	    {{formTitle[0].confirmPassword}} <br/>\n	    <input type="password" ng-model="formData.confirmPassword" /><br />\n	    \n	    <button type="submit">\n	    	{{formTitle[0].button}}\n	    </button> <br/>\n	    <a ng-show="formTitle[0].forgotPassword" ng-href="#/forgot-password">{{formTitle[0].forgotPassword}}</a>\n	</form>\n\n'),a.put("forgot-password/forgot-password.html",'	<form class="simple-form">\n		<h2> {{formTitle[0].page}} </h2>\n    	{{formTitle[0].emailAddress}} <br />\n    	<input type="text" ng-model="emailAddress"/><br />\n    	<button ng-click="postLogin()">{{formTitle[0].button}}</button> <br/>\n    </form>'),a.put("login/login.html",'<login>	\n	<h1>{{formTitle[0].page}}</h1>\n	<h2>{{formTitle[0].login}}</h2>\n	<form class="simple-form">\n	   	{{formTitle[0].username}} <br />\n	   	<input type="text" ng-model="formData.email" /><br />\n		{{formTitle[0].password}} <br />\n	    <input type="password" ng-model="formData.password" /><br />\n	    {{formTitle[0].language}} <br/>\n	    <select ng-model="language" ng-options="lan.title for lan in languageMenu">\n	  	</select> <br/>\n	    \n	    <button type="submit">\n	    	{{formTitle[0].button}}\n	    </button> <br/>\n	    <a ng-show="formTitle[0].forgotPassword" ng-href="#/forgot-password">{{formTitle[0].forgotPassword}}</a>\n	</form>\n</login>\n'),a.put("toolbar/toolbar-view.html",'<div class="ark-toolbar {{options.toolbarContainer}}">\n	\n	<ul class="lefttoolbar ark-toolbar-buttons {{options.leftButtonContainer}}">\n		<li ng-repeat="button in options.lefttoolbar" >\n				<span class="{{button.icon}} {{button.buttonStyleClass}} ark-fonticon" ng-click="button.click()" data-toggle="tooltip" data-placement="bottom" title="{{button.tooltipTitle}}"></span><span class="icon-title">{{button.title}}</span><div ng-include="button.template"></div>\n		</li>\n	</ul>\n\n	<ul class="righttoolbar ark-toolbar-buttons {{options.rightButtonContainer}}">\n		<li ng-repeat="button in options.righttoolbar" >\n				<span class="{{button.icon}} {{button.buttonStyleClass}} ark-fonticon" ng-click="button.click()" data-toggle="tooltip" data-placement="bottom" title="{{button.tooltipTitle}}"></span><span class="icon-title">{{button.title}}</span><div ng-include="button.template"></div>\n		</li>\n	</ul>\n	\n</div>\n')
}]),angular.module("ark-components").directive("toolbar",function(){return{restrict:"E",scope:{getOptions:"&config"},templateUrl:"toolbar/toolbar-view.html",controller:["$scope",function(a){a.options=a.getOptions()}]}});